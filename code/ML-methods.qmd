---
title: "ML Methods"
author: "Aditya Iyer"
date: "2024-11-01"
format: pdf
editor: source
---
# Using PCA to define momentum

```{r}
numeric_vars <- pbp_mod_2016 |> 
  select(
    epa, air_epa, air_yards, drive_yards_penalized, 
    fourth_down_converted, fourth_down_failed, fumble_lost
  ) |> 
  drop_na()


scaled_vars <- scale(numeric_vars)
```

```{r}
# Perform PCA
momentum_pca <- prcomp(scaled_vars, center = TRUE, scale. = TRUE)

# Print PCA summary
summary(momentum_pca)

# Extract variable loadings
loadings <- momentum_pca$rotation
print(loadings)
```

```{r}
# Visualize explained variance
explained_variance <- data.frame(
  PC = paste0("PC", 1:length(momentum_pca$sdev)),
  Variance = (momentum_pca$sdev)^2 / sum((momentum_pca$sdev)^2)
)

ggplot(explained_variance, aes(x = PC, y = Variance)) +
  geom_bar(stat = "identity", fill = "steelblue") +
  labs(title = "Explained Variance by Principal Components", x = "Principal Component", y = "Proportion of Variance")

```


